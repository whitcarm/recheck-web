(function(b){var a=window.AmazonUIPageJS||window.P,f=a._namespace||a.attributeErrors,e=f?f("AmazonGatewayHerotatorJS"):a;e.guardFatal?e.guardFatal(b)(e,window):e.execute(function(){b(e,window)})})(function(b,a,f){b.when("generic-observable").register("gw-herotator-controller",function(a){var b=function(){};return function(c){function n(){v.notifyObservers("delayBegin")}function d(){v.notifyObservers("delayInterrupted")}function r(a){for(var b=0;b<z.length;b++)if(z[b]===a)return b+1}function p(a){a=
a||{};return{delay_complete:a.delay_complete||b,js_ready:a.js_ready||b,fg_loaded:a.fg_loaded||b,mouse_move:a.mouse_move||b,mouse_leave:a.mouse_leave||b,delay_interrupted_timeout:a.delay_interrupted_timeout||b,rotation_complete:a.rotation_complete||b,goto_card:function(a){a!==B&&y.user_navigation(z[a-1])},user_navigation:a.user_navigation||function(a){y=new f(a)},user_interaction:a.user_interaction||function(){y.user_navigation(z[B-1])},stop_autorotation:a.stop_autorotation||function(){y.user_navigation(z[B-
1])},pause:a.pause||b,resume:a.resume||b}}function h(){function a(){!c&&G[b]&&(y=1===A?new u:new l)}n();var b=z[(B-1+1)%A+1-1],c=!0;return new p({fg_loaded:function(c){c===b&&a()},delay_complete:function(){c=!1;a()},mouse_move:function(){y=new m},pause:function(){y=new q}})}function m(){d();return new p({mouse_move:d,mouse_leave:function(){y=new h},delay_interrupted_timeout:function(){y.mouse_leave()},pause:function(){y=new q(!0)}})}function q(a){d();return new p({mouse_move:function(){a=!0;d()},
mouse_leave:function(){a=!1},resume:function(){y=a?new m:0<H?new h:new u}})}function l(){v.notifyObservers("autorotating");B=(B-1+1)%A+1;v.notifyObservers("gotoCard",B);H--;return new p({rotation_complete:function(){y=0<H?new h:new u},mouse_move:function(){y=0<H?new k:new u},pause:function(){y=new w}})}function k(a){var b=!1;return new p({rotation_complete:function(){n();y=b?new q:new m},pause:function(){b=!0},resume:function(){b=!1}})}function w(){var a=!1;return new p({rotation_complete:function(){n();
y=new q(a)},mouse_move:function(){a=!0},mouse_leave:function(){a=!1}})}function f(a){v.notifyObservers("userNavigation");B=r(a);v.notifyObservers("gotoCard",B);return new p({rotation_complete:function(){y=new u},user_navigation:function(a){y=new t(a)},user_interaction:b})}function t(a){return new p({rotation_complete:function(){y=new f(a)},user_navigation:function(b){a=b},user_interaction:b})}function u(){v.notifyObservers("stopAutorotation");return new p({})}c=c||{};var v=new a,y=new function(){function a(){G[C]&&
c&&(v.notifyObservers("ready"),y=new h,k&&y.pause(),l&&y.stop_autorotation())}var c=!1,l=!1,k=!1;return new p({fg_loaded:function(b){b===C&&a()},js_ready:function(){c=!0;a()},user_navigation:b,stop_autorotation:function(){l=!0},pause:function(){k=!0},resume:function(){k=!1}})},z=c.fgIDs||[],A=z.length,C=z[0],B=c.card_num||1,G={},H=c.circular?Infinity:A;return{delayComplete:function(){y.delay_complete()},jsReady:function(){y.js_ready()},fgLoaded:function(a){G[a]=!0;C===a&&v.notifyObservers("atfLoaded");
y.fg_loaded(a)},mouseMove:function(){y.mouse_move()},mouseLeave:function(){y.mouse_leave()},delayInterruptedTimeout:function(){y.delay_interrupted_timeout()},rotationComplete:function(){y.rotation_complete()},gotoCard:function(a){y.goto_card(a)},userInteraction:function(){y.user_interaction()},userNavigation:function(a){y.user_navigation(a)},stopAutorotation:function(){y.stop_autorotation()},pause:function(){y.pause()},resume:function(){y.resume()},addObserver:v.addObserver,removeObserver:v.removeObserver}}});
b.register("herotator",function(){return function(e,f){function c(a){return function(){b.when("gw-desktop-herotator/controller").execute(function(){J[a]()})}}function n(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}function d(a,c){A[a]=[];var h=c.length;if(0<h)for(var l=0;l<h;l++)(function(h){var l=new Image;l.onload=function(){A[a].splice(k(A[a],l),1);A[a]&&0===A[a].length&&b.when("gw-desktop-herotator/controller").execute(function(){var b=document.getElementById("gw-ftGr-"+
a),c=b.className,c=c.replace(/\s*\ba\-lazy\-loaded\b\s*/,"");b.className=c;J.fgLoaded(a)})};A[a].push(l);l.src=c[h].src})(l);else b.when("gw-desktop-herotator/controller").execute(function(){J.fgLoaded(a)})}function r(){z=Date.now()}function p(){G||q()}function h(){F=F?Math.min(F,Date.now()):Date.now();clearTimeout(v.timeout_id);clearTimeout(h.timeout_id);h.timeout_id=setTimeout(function(){h.timeout_id=0;J.delayInterruptedTimeout()},3E3)}function m(){G=!0}function q(){q.sent||(clearTimeout(q.timeout),
q.timeout=setTimeout(function(){l(e.uri,e.data);q.sent=!0},2E3))}function l(a,c){b.when("A").execute(function(b){b.$.ajax(a,{async:!1,cache:!1,type:"post",data:c})})}function k(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(a[c]===b)return c}function w(){return U=U||t()}function x(b){"object"===typeof a.ue&&"function"===typeof a.ue.count&&a.ue.count(b,(a.ue.count(b)||0)+1)}function t(){var a=L(".a-carousel-rounded-buttons .a-carousel-left,.a-carousel-rounded-buttons .a-carousel-right");
L(".a-carousel-rounded-buttons .a-carousel-left").attr("cel_widget_id","gw-desktop-hero-left-cel");L(".a-carousel-rounded-buttons .a-carousel-right").attr("cel_widget_id","gw-desktop-hero-right-cel");L(".a-carousel-rounded-buttons .a-carousel-left").addClass("celwidget");L(".a-carousel-rounded-buttons .a-carousel-right").addClass("celwidget");L(".a-carousel-rounded-buttons .a-carousel-left").click(function(a){x("gw-desktop-hero-left")});L(".a-carousel-rounded-buttons .a-carousel-right").click(function(a){x("gw-desktop-hero-right")});
return{show:function(){a.show();L(".a-carousel-left").css("z-index",10);L(".a-carousel-right").css("z-index",10)},hide:function(){a.hide()}}}function u(){var c=L("#gw-desktop-herotator");c.addClass("gw-desktop-herotator-ready");b.register("herotator-controls",function(){1<c.find(".a-carousel-card").length?(w().show(),a.GWI&&a.GWI.recordLatency("gwHerotatorActive")):w().hide()})}function v(a){H<F&&(B-=F-H,F=0);H=Date.now();v.timeout_id=setTimeout(function(){B=C;J.delayComplete()},B)}function y(a,b){y.current_card!==
b&&(y.current_card=b,E.gotoPage(b),T.notifyObservers("page_changed"));setTimeout(function(){J.rotationComplete()},250)}var z=Date.now(),A={},C=5E3,B=C,G=!1,H=0,F=0,E,L,K=document.getElementById("gw-desktop-herotator").getElementsByTagName("ol")[0],T,J,U;n(K,"click",c("userInteraction"));n(K,"mouseenter",c("mouseMove"));n(K,"mousemove",c("mouseMove"));n(K,"mouseleave",c("mouseLeave"));n(K,"touchstart",c("userInteraction"));n(K,"touchmove",c("userInteraction"));n(K,"touchend",c("userInteraction"));
n(K,"touchcancel",c("userInteraction"));for(var K=document.getElementById("gw-desktop-herotator").getElementsByTagName("li")[0],N=0,O=K.childNodes[N];O&&"div"!==String(O.nodeName).toLowerCase();)N++,O=K.childNodes[N];N=O;K=String(N.id).replace(/^gw-ftGr-/,"");N=N.getElementsByTagName("img");d(K,N||[]);for(var R=[K],K=0;f[K];)R.push(f[K].fgID),K++;b.when("gw-herotator-controller").execute(function(a){J=new a({fgIDs:R});J.addObserver("atfLoaded",r);J.addObserver("delayBegin",v);J.addObserver("delayInterrupted",
h);J.addObserver("gotoCard",y);J.addObserver("userNavigation",p);J.addObserver("stopAutorotation",m);J.addObserver("ready",function(){var a=Date.now()-z;B=Math.max(C-a,1);u();L("#gw-desktop-herotator").addClass("gw-desktop-herotator-ready")});b.register("gw-desktop-herotator/controller");b.when("generic-observable").register("gw-desktop-herotator",function(a){T=new a;return{getAutorotationDelay:function(){return C},setAutorotationDelay:function(a){a=parseInt(a,10);B=a-(C-B);C=a},stopAutorotation:function(){J.stopAutorotation()},
disableNavigation:function(){w().hide();E.pause()},enableNavigation:function(){w().show();E.resume()},pause:function(){J.pause()},resume:function(){J.resume()},addObserver:T.addObserver,removeObserver:T.removeObserver}})});b.when("A","a-carousel-framework","gwAjax").execute(function(c,h,l){function k(){var b=0;for(a.GWI&&a.GWI.recordLatency("gw-hero-btf-populate");f[b];){var c=f[b].fgID,h=f[b].content,l=document.getElementById("gw-ftGr-"+c);L(l).html(h);h=l.getElementsByTagName("img");d(c,h);b++}}
L=c.$;h.onInit("gateway-desktop-layout.herotator",function(){var a=c.$("#gw-desktop-herotator > .a-carousel-container");E=h.getCarousel(a);E.onChange("pageNumber",function(){var a=E.getAttr("pageNumber");J.gotoCard(a);a-=2;f[a]&&f[a].callbackUrl&&(l(f[a].callbackUrl,{type:"POST",id:"desktop-herotator-btf-"+f[a].fgID}),delete f[a].callbackUrl)});k();b.when("gw-desktop-herotator").register("gw-desktop-herotator/dom-ready");b.when("gw-desktop-herotator/controller","gw-desktop-herotator").execute(function(){J.jsReady()})})})}})});